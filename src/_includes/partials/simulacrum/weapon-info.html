{% macro weaponStat(statTitle, statValue) %}
	<div class="weapon-stat">
		{{ caller() }}
		<div class="infobite">
			<h4>{{ statTitle }}</h4>
			<p>{{ statValue }}</p>
		</div>
	</div>
{% endmacro %}

<article class="weapon profile sheet" data-ratio="1-2" data-element="{{ weapon.element }}" data-border="top">
	<div>
		<img class="weapon-img" src="/assets/images/wep/{{ page.fileSlug }}.png" alt="{{ name }}â€™s weapon" width="128" height="128">
	</div>
	<div class="weapon-info stack">
		<h3 class="weapon-info__title">{{ weapon.name }}</h3>
		<div class="grid">
			<div class="weapon-stat">
				{% image 'src/assets/images/icon/reso_' + weapon.resonance + '.png', '', 'inline-block' %}
				<div class="infobite">
					<h4>Resonance</h4>
					<p>{{ weapon.resonance | capitalize }}</p>
				</div>
			</div>
			<div class="weapon-stat">
				{% image 'src/assets/images/icon/ele_' + weapon.element + '.png', '', 'inline-block' %}
				<div class="infobite">
					<h4>Resonance</h4>
					<p>{{ weapon.element | capitalize }}</p>
				</div>
			</div>
			{% call weaponStat('Shatter', weapon.shatter.toFixed(2)) %}
				{% set shatterRating = helpers.getWeaponRating(weapon.shatter, string.weaponRating) %}
				<div class="highlight-rarity weapon-info__rating" data-rarity="{{ shatterRating.rarityColor }}">
					<span>{{ shatterRating.rank | upper }}</span>
				</div>
			{% endcall %}
			{% call weaponStat('Charge', weapon.charge.toFixed(2)) %}
				{% set chargeRating = helpers.getWeaponRating(weapon.charge, string.weaponRating) %}
				<div class="highlight-rarity weapon-info__rating" data-rarity="{{ chargeRating.rarityColor }}">
					<span>{{ chargeRating.rank | upper }}</span>
				</div>
			{% endcall %}
		</div>
	</div>
</article>
